from django.db import models

class Quiz(models.Model):
    title = models.CharField(max_length=1000)
    product_type = models.ForeignKey(
        ProductTypes, on_delete=models.CASCADE
    )
    detail = models.TextField()
    template_name = models.CharField(max_length=100, default='default_quiz_template.html')

    class Meta:
        db_table = 'quiz'

    def __str__(self):
        return self.title

from django.views.generic import DetailView
from django.contrib.auth.mixins import LoginRequiredMixin

class QuizDetailView(LoginRequiredMixin, DetailView):
    model = Quiz
    template_name = 'admin/psychology_tests/default_quiz_template.html'

    def get_template_names(self):
        if self.object.template_name != 'default_quiz_template.html':
            return [self.object.template_name]
        else:
            return ['default_quiz_template.html']
